<div class="container">
    <div class="d-flex flex-row" style="margin-top: 25px; justify-content: space-between;">
        <div style="display: flex;">

            <div>
                <p style="margin-right: 40px;">Followers</p>
                <p id="followers" style="color: #2b72f4;"><%= @user.followers_count %></p>
            </div>
            <div>
                <p>Following</p>
                <p id="followers" style="color: #2b72f4;"><%= @user.following_count %></p>
            </div>
        </div>
        
        <% if logged_in? && params[:username] != current_user.username %>
        <!-- --Follow Button-------- -->
            <% if @user.followers.include?(current_user) && @user.following.include?(current_user) %>
            <div>
                <form action="/<%= @user.username %>/follow" method="POST">
                    <input type="hidden" name="_method" value="DELETE">
                    <input class="btn btn-primary btn-sm" type="submit" value="Friends">
                </form>    
            </div>
            <% elsif !@user.followers.include?(current_user) && @user.following.include?(current_user) %>
            <div>
                <form action="/<%= @user.username %>/follow" method="POST">
                    <input class="btn btn-primary btn-sm" type="submit" value="Follow Back">
                </form>    
            </div>
            <% elsif @user.followers.include?(current_user) && !@user.following.include?(current_user) %>
            <div>
                <form action="/<%= @user.username %>/follow" method="POST">
                    <input type="hidden" name="_method" value="DELETE">
                    <input class="btn btn-primary btn-sm" type="submit" value="Following">
                </form>   
            </div> 
            <% elsif !@user.followers.include?(current_user) && !@user.following.include?(current_user) %>
            <div>
                <form action="/<%= @user.username %>/follow" method="POST">
                    <input class="btn btn-primary btn-sm" type="submit" value="Follow">
                </form>   
            </div> 
                <% end %>
            <!-- --Follow Button-------- -->
    <% end %>
</div>
    <div class="d-flex flex-column">
        <div class="py-5 text-center">
            <h1>
                <%= @user.first_name %> <%= @user.last_name %>'s Links
            </h1>
        </div>
        <% if logged_in? && params[:username] == current_user.username %>
            <% @user.links.each do |link| %>
                <a class="btn btn-lg btn-outline-primary" href="<%= link.format_url %>" style="margin-top: 10px; margin-bottom: 10px; position: relative;">
                    <form action="/link/<%= link.id %>" method="POST" style="position: absolute; right: 0; padding-right: 15px;">
                        <input type="hidden" name="_method" value="delete">
                        <input class="btn btn-outline-danger btn-sm" type="submit" value="delete" style="border: none;">
                    </form>
                    <%= link.name %>
                </a>
            <% end %>
        <% else %>
                <% @user.links.each do |link| %>
                    <a class="btn btn-lg btn-outline-primary" href="<%= link.format_url %>" style="margin-top: 10px; margin-bottom: 10px;"><%= link.name %></a>
                <% end %>
        <% end %>
    </div>
</div>